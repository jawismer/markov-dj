<!DOCTYPE html>
<html lang="en">
<body>
    <link href="https://fonts.googleapis.com/css?family=Patua+One|Share+Tech+Mono" rel="stylesheet">
    <script>document.body.style.backgroundColor = "#7cff96";</script>
    <style type="text/css">
        body {
            background-color: #7cff96;
            background:url(https://i.imgsafe.org/fd16dbb6b5.png) fixed no-repeat top right;
            background-size: 600px 600px;
        }
    </style>
    <h1 align="center" style="font-family: 'Patua One'", cursive;>Playlist Generator</h1>
    <h2 align="center" style="font-family: 'Patua One'">Enter last.fm username:</h2>
    <form action="." method="POST" onsubmit="myFunction()" align="center">
        <input type="text" name="text">
        <input type="submit" name="my-form" value="Send">
        <!--<input type ='submit' value='Gather Data'
       id="my_submit_button"  name='submit' 
       onclick="document.getElementById('my_submit_button').disabled = 'disabled'">-->

    </form>
    <!--
    <button id="start-bg-job" onclick="document.getElementById('start-bg-job').disabled = 'disabled'">Gather last.fm data!</button>

    <script src="//cdnjs.cloudflare.com/ajax/libs/nanobar/0.2.1/nanobar.min.js"></script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="http://malsup.github.com/jquery.form.js"></script> 

    <script>
    
    function kickoff_task1() {
        // add task status elements
        /*
        div = $('<div class="progress"><div></div><div>0%</div><div>...</div><div>&nbsp;</div></div><hr>');
        $('#progress').append(div);
        // create a progress bar
        var nanobar = new Nanobar({
            bg: '#44f',
            target: div[0].childNodes[0]
        });*/
        // send ajax POST request to start background job
        $.ajax({
            type: 'POST',
            url: '.',
            success: function(data, status, request) {
                status_url = request.getResponseHeader('Location');
                update_progress(status_url);
            },
            error: function() {
                alert('Unexpected error');
            }
        });
    }
    
    function update_progress(status_url) {
        // send GET request to status URL
        $.getJSON(status_url, function(data) {
            // update UI
            if (data == 'DONE') {
                if ('result' in data) {
                    // show result
                    $(status_div.childNodes[3]).text('Result: ' + data['result']);
                }
                else {
                    // something unexpected happened
                    $(status_div.childNodes[3]).text('Result: ' + data['state']);
                }
            }
            else {
                // rerun in 2 seconds
                setTimeout(function() {
                    update_progress(status_url);
                }, 2000);
            }
        });
    }
    
    $(function() {
        $('#start-bg-job').click(kickoff_task1);
    });
    </script>
-->
</body>
</html>